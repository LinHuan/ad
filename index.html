



<!doctype html>
<head>
  <meta charset="utf-8">
  <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script type="text/javascript" src="http://www.parsecdn.com/js/parse-1.2.18.min.js"></script>

<style>
    
    
    
</style>

</head>

<body>
  
  
  
  <div id="main">
    <h1>Hello, Advertisers. Let's make some money</h1>











<hr />
type
<select id="type">
<option value="geo">location</option>
<option value="website">website</option>
<option value="phone">phone</option>
<option value="app">apps and games</option>

</select>

<hr />
title
<input type="text" id="title" value="Super delicious BBQ"></input>

<hr />
keyword
<input type="text" id="keyword" value="hungry"></input>

<hr />
link
<input type="text" id="link" placeholder="Enter url, app ID or Phone"></input>

<hr />
latitude
<input type="text" id="posx" value="1.3019944"></input>


<hr />
longitude
<input type="text" id="posy" value="103.8641139"></input>

<hr />
minimum age
<input type="text" id="minAge" value="-1"></input>


<hr />
maximum age
<input type="text" id="maxAge" value="-1"></input>


<hr />
gender

<select id="gender">
    <option value="">all</option>
    <option value="male">male</option>
    <option value="female">female</option>
    
</select>


<hr />
country


<select id="country">
    <option value="">all</option>
    <option value="Australia">Australia</option>
    <option value="Brazil">Brazil</option>
    <option value="China">China</option>
    <option value="Egypt">Egypt</option>
    <option value="France">France</option>
    <option value="Germany">Germany</option>
    <option value="Haiti">Haiti</option>
    <option value="India">India</option>
    <option value="Japan">Japan</option>
    <option value="Korea">Korea</option>
    <option value="Libya">Libya</option>
    <option value="Mexico">Mexico</option>
    <option value="Netherland">Netherland</option>
    <option value="Poland">Poland</option>
    <option value="Singapore">Singapore</option>
    <option value="Thailand">Thailand</option>
    <option value="USA">USA</option>
    <option value="Vietnam">Vietnam</option>
    
</select>


<hr />


<hr />

<input type="submit" value = "Make Payment NOW" id="ok">

<hr />
    <div class="success">
      
      <div class="list"></div>

    </div>
  </div>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/aes.js"></script>
  <script type="text/javascript">
      Parse.initialize("uFtfAUk3w5YrfTo1qddb2M83Rick9HQdJnWG7kz1", "QEeonVpGOzkTdRDTcobydC66EgCMhrTL780pcIvQ");
    
    fetchAll();
    
    
    
    
    $('#ok').click(function() {
    
    var Advertisement = Parse.Object.extend("Advertisement");
    var advertisement = new Advertisement();
    
                   
                   var obj = new Object();
                   obj.className = "Advertisement";
                   obj.type = $('#type').val();
                   obj.title = $('#title').val();
                   obj.keyword = $('#keyword').val();
                   obj.link = $('#link').val();
                   obj.posx = $('#posx').val();
                   obj.posy = $('#posy').val();
                   obj.minAge = $('#minAge').val();
                   obj.maxAge = $('#maxAge').val();
                   obj.gender = $('#gender').val();
                   obj.country = $('#country').val();
                   var jsonString = JSON.stringify(obj);
                   
      advertisement.save({cipherText: "" + jsonString}, {
      success: function(object) {
                         
                         fetchAll();
                         alert("success");
      },
      error: function(model, error) {
                         alert("fail");
      }
    });
    
    });
  
  
  
  
    function fetchAll() {
    
    var Advertisement = Parse.Object.extend("Advertisement");
    var query = new Parse.Query(Advertisement);
    query.find({
        success: function(results) {
               $('.list').empty();
            for (var i = 0; i < results.length; i++) {
               var object = results[i];
               var cipherText = object.get('cipherText');
               $(".list").append('<hr />' + cipherText);
            }
        },
    
        error: function(error) {
        }
    });
    
    
    }
  
  
    
               
  </script>
  
  


  
  
  
  
</body>

</html>
